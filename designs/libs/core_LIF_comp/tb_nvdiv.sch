v {xschem version=3.4.7 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
B 2 1280 -1070 2080 -670 {flags=graph
y1=0
y2=3.4
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=1e-06
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0
dataset=-1
unitx=1
logx=0
logy=0
color="4 10 6 7 8 4"
node="vdd
vspike_up0
vref0
vspike_down0
vres0
vss"}
B 2 1280 -670 2080 -270 {flags=graph
y1=0
y2=3.3
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=1e-06
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0
dataset=-1
unitx=1
logx=0
logy=0
color="4 10 6 7 8 4"
node="vdd
vspike_up
vref
vspike_down
vres
vss"}
B 2 -710 330 90 730 {flags=graph
y1=0
y2=3.3
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=1e-06
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0
dataset=-1
unitx=1
logx=0
logy=0
color="4 4 10 6 7 8"
node="vdd
vss
vspike_up
vref
vspike_down
vres"}
B 2 640 410 1440 810 {flags=graph
y1=0
y2=3.3
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=1e-06
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0
dataset=-1
unitx=1
logx=0
logy=0
color="4 4 10 5 6 7 8"
node="vdd
vss
va
vq1
vq2
vq3
vq4"}
B 2 -720 740 80 1140 {flags=graph
y1=0
y2=3.4
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=1e-06
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0
dataset=-1
unitx=1
logx=0
logy=0
color="4 10 6 7 8 4"
node="vdd
vspike_up0
vref0
vspike_down0
vres0
vss"}
N 480 -900 520 -900 {lab=vdd}
N 580 -900 620 -900 {lab=vspike_up0}
N 680 -900 720 -900 {lab=#net1}
N 720 -900 720 -840 {lab=#net1}
N 780 -900 780 -840 {lab=vref0}
N 820 -900 820 -840 {lab=vref0}
N 880 -900 880 -840 {lab=vspike_down0}
N 880 -900 920 -900 {lab=vspike_down0}
N 980 -900 1020 -900 {lab=vres0}
N 1020 -900 1020 -840 {lab=vres0}
N 1080 -900 1080 -840 {lab=vss}
N 780 -900 820 -900 {lab=vref0}
N 1080 -900 1120 -900 {lab=vss}
N 550 -880 1050 -880 {lab=vdd}
N 750 -880 750 -860 {lab=vdd}
N 850 -880 850 -860 {lab=vdd}
N 1050 -880 1050 -860 {lab=vdd}
N 480 -900 480 -880 {lab=vdd}
N 480 -880 550 -880 {lab=vdd}
N 480 -1030 480 -900 {lab=vdd}
N 600 -1030 600 -900 {lab=vspike_up0}
N 700 -1030 700 -900 {lab=#net1}
N 800 -1030 800 -900 {lab=vref0}
N 900 -1030 900 -900 {lab=vspike_down0}
N 1000 -1030 1000 -900 {lab=vres0}
N 1120 -1030 1120 -900 {lab=vss}
N 620 130 620 170 {lab=vdd}
N 620 230 620 260 {lab=va}
N 620 320 620 350 {lab=vss}
N 580 160 580 200 {lab=vdd}
N 580 160 620 160 {lab=vdd}
N 580 260 580 290 {lab=va}
N 580 260 620 260 {lab=va}
N 620 200 630 200 {lab=vss}
N 630 200 630 290 {lab=vss}
N 620 290 630 290 {lab=vss}
N 630 290 630 330 {lab=vss}
N 620 330 630 330 {lab=vss}
N 620 240 730 240 {lab=va}
N 770 150 770 210 {lab=vdd}
N 620 150 770 150 {lab=vdd}
N 770 240 780 240 {lab=vss}
N 780 220 780 240 {lab=vss}
N 630 220 780 220 {lab=vss}
N 770 270 770 320 {lab=vq1}
N 770 320 890 320 {lab=vq1}
N 890 250 890 320 {lab=vq1}
N 890 240 890 250 {lab=vq1}
N 890 240 920 240 {lab=vq1}
N 960 270 960 320 {lab=vq2}
N 960 150 960 210 {lab=vdd}
N 770 150 960 150 {lab=vdd}
N 960 220 960 240 {lab=vss}
N 780 220 960 220 {lab=vss}
N 960 320 1080 320 {lab=vq2}
N 1080 250 1080 320 {lab=vq2}
N 1080 240 1080 250 {lab=vq2}
N 1080 240 1110 240 {lab=vq2}
N 1150 270 1150 320 {lab=vq3}
N 1150 150 1150 210 {lab=vdd}
N 960 150 1150 150 {lab=vdd}
N 1150 220 1150 240 {lab=vss}
N 970 220 1150 220 {lab=vss}
N 1150 320 1270 320 {lab=vq3}
N 1270 250 1270 320 {lab=vq3}
N 1270 240 1270 250 {lab=vq3}
N 1270 240 1300 240 {lab=vq3}
N 1340 270 1340 320 {lab=vq4}
N 1340 150 1340 210 {lab=vdd}
N 1150 150 1340 150 {lab=vdd}
N 1340 220 1340 240 {lab=vss}
N 1160 220 1340 220 {lab=vss}
N 950 220 970 220 {lab=vss}
N 1140 220 1160 220 {lab=vss}
N 220 330 220 370 {lab=vdd}
N 180 360 180 400 {lab=vdd}
N 180 360 220 360 {lab=vdd}
N 220 400 230 400 {lab=vss}
N 230 400 230 690 {lab=vss}
N 220 480 230 480 {lab=vss}
N 220 560 230 560 {lab=vss}
N 220 640 230 640 {lab=vss}
N 220 590 220 610 {lab=vspike_down}
N 220 510 220 530 {lab=vp}
N 220 430 220 450 {lab=vspike_up}
N 180 440 180 480 {lab=vspike_up}
N 180 440 220 440 {lab=vspike_up}
N 180 520 180 560 {lab=vp}
N 180 520 220 520 {lab=vp}
N 180 600 180 640 {lab=vspike_down}
N 180 600 220 600 {lab=vspike_down}
N 220 670 220 680 {lab=vres}
N 220 730 230 730 {lab=vss}
N 220 680 220 700 {lab=vres}
N 180 690 180 730 {lab=vres}
N 180 690 220 690 {lab=vres}
N 220 760 220 770 {lab=vss}
N 230 690 230 770 {lab=vss}
N 230 770 230 780 {lab=vss}
N 220 770 230 770 {lab=vss}
N 460 470 460 510 {lab=vdd}
N 460 570 460 600 {lab=vref}
N 460 660 460 690 {lab=vss}
N 420 500 420 540 {lab=vdd}
N 420 500 460 500 {lab=vdd}
N 420 600 420 630 {lab=vref}
N 420 600 460 600 {lab=vref}
N 460 540 470 540 {lab=vss}
N 470 540 470 630 {lab=vss}
N 460 630 470 630 {lab=vss}
N 470 630 470 670 {lab=vss}
N 460 670 470 670 {lab=vss}
C {title.sym} 160 0 0 0 {name=l1 author="Oscar Islas"}
C {vsource.sym} 160 -760 0 1 {name=V2 value=3.3 savecurrent=false}
C {gnd.sym} 160 -730 0 0 {name=l6 lab=GND}
C {lab_pin.sym} 160 -790 0 1 {name=p87 sig_type=std_logic lab=vdd}
C {devices/code_shown.sym} 65 -460 0 0 {name=s1 only_toplevel=false value="
.option method=gear seed=12
.control
    tran 10n 1u
    write tb_nvdiv.raw
.endc
.save all
"
spice_ignore=False}
C {devices/code_shown.sym} 0 -200 0 0 {name=MODELS1 only_toplevel=true
format="tcleval( @value )"
value="
.include $::180MCU_MODELS/design.ngspice
.lib $::180MCU_MODELS/sm141064.ngspice typical
.lib $::180MCU_MODELS/sm141064.ngspice cap_mim
.lib $::180MCU_MODELS/sm141064.ngspice res_typical
.lib $::180MCU_MODELS/sm141064.ngspice moscap_typical
.lib $::180MCU_MODELS/sm141064.ngspice mimcap_typical
"}
C {gnd.sym} 60 -730 0 0 {name=l3 lab=GND}
C {lab_pin.sym} 60 -790 0 1 {name=p1 sig_type=std_logic lab=vss}
C {vsource.sym} 60 -760 0 1 {name=V4 value=0 savecurrent=false}
C {lab_pin.sym} 480 -1030 0 1 {name=p24 sig_type=std_logic lab=vdd}
C {symbols/ppolyf_u_2k.sym} 550 -900 3 0 {name=R4
W=1e-6
L=1e-6
model=ppolyf_u_2k
spiceprefix=X
m=1}
C {symbols/ppolyf_u_2k.sym} 650 -900 3 0 {name=R5
W=1e-6
L=1e-6
model=ppolyf_u_2k
spiceprefix=X
m=1}
C {symbols/ppolyf_u_2k.sym} 850 -840 3 1 {name=R6
W=1e-6
L=1e-6
model=ppolyf_u_2k
spiceprefix=X
m=1}
C {symbols/ppolyf_u_2k.sym} 950 -900 3 0 {name=R8
W=1e-6
L=1e-6
model=ppolyf_u_2k
spiceprefix=X
m=1}
C {symbols/ppolyf_u_3k.sym} 1050 -840 3 1 {name=R9
W=1e-6
L=1e-6
model=ppolyf_u_3k
spiceprefix=X
m=1}
C {symbols/ppolyf_u_3k.sym} 1050 -900 3 0 {name=R7
W=1e-6
L=1e-6
model=ppolyf_u_3k
spiceprefix=X
m=1}
C {symbols/ppolyf_u_2k.sym} 850 -900 3 0 {name=R10
W=1e-6
L=1e-6
model=ppolyf_u_2k
spiceprefix=X
m=1}
C {symbols/ppolyf_u_3k.sym} 750 -900 3 0 {name=R12
W=1e-6
L=1e-6
model=ppolyf_u_3k
spiceprefix=X
m=1}
C {symbols/ppolyf_u_3k.sym} 750 -840 3 1 {name=R11
W=1e-6
L=1e-6
model=ppolyf_u_3k
spiceprefix=X
m=1}
C {lab_pin.sym} 600 -1030 0 1 {name=p25 sig_type=std_logic lab=vspike_up0}
C {lab_pin.sym} 800 -1030 0 1 {name=p27 sig_type=std_logic lab=vref0}
C {lab_pin.sym} 900 -1030 0 1 {name=p28 sig_type=std_logic lab=vspike_down0}
C {lab_pin.sym} 1000 -1000 0 1 {name=p29 sig_type=std_logic lab=vres0}
C {lab_pin.sym} 1120 -1030 0 1 {name=p30 sig_type=std_logic lab=vss}
C {launcher.sym} 770 -640 0 0 {name=h5
descr="load waves" 
tclcommand="xschem raw_read $netlist_dir/tb_nvdiv.raw tran"
}
C {lab_pin.sym} 620 130 0 1 {name=p2 sig_type=std_logic lab=vdd}
C {lab_pin.sym} 620 350 0 1 {name=p3 sig_type=std_logic lab=vss}
C {launcher.sym} 400 190 0 0 {name=h1
descr="load waves" 
tclcommand="xschem raw_read $netlist_dir/tb_nvdiv.raw tran"
}
C {lab_pin.sym} 620 250 0 1 {name=p4 sig_type=std_logic lab=va}
C {symbols/nfet_03v3.sym} 750 240 0 0 {name=M11
L=0.5u
W=0.5u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {symbols/nfet_03v3.sym} 940 240 0 0 {name=M12
L=0.28u
W=0.36u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {lab_pin.sym} 770 290 0 1 {name=p5 sig_type=std_logic lab=vq1}
C {lab_pin.sym} 960 290 0 1 {name=p6 sig_type=std_logic lab=vq2}
C {symbols/nfet_03v3.sym} 1130 240 0 0 {name=M13
L=0.28u
W=0.36u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {lab_pin.sym} 1150 290 0 1 {name=p7 sig_type=std_logic lab=vq3}
C {symbols/nfet_03v3.sym} 1320 240 0 0 {name=M14
L=0.28u
W=0.36u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {lab_pin.sym} 1340 290 0 1 {name=p8 sig_type=std_logic lab=vq4}
C {symbols/nfet_03v3.sym} 600 200 0 0 {name=M9
L=0.5u
W=0.5u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {symbols/nfet_03v3.sym} 600 290 0 0 {name=M10
L=0.5u
W=0.5u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {lab_pin.sym} 220 330 0 1 {name=p9 sig_type=std_logic lab=vdd}
C {symbols/nfet_03v3.sym} 200 400 0 0 {name=M15
L=0.28u
W=0.36u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {symbols/nfet_03v3.sym} 200 640 0 0 {name=M18
L=0.5u
W=0.5u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {lab_pin.sym} 180 440 0 0 {name=p11 sig_type=std_logic lab=vspike_up}
C {lab_pin.sym} 180 520 0 0 {name=p12 sig_type=std_logic lab=vp}
C {lab_pin.sym} 180 600 0 0 {name=p13 sig_type=std_logic lab=vspike_down}
C {lab_pin.sym} 230 780 0 1 {name=p14 sig_type=std_logic lab=vss}
C {lab_pin.sym} 180 690 0 0 {name=p15 sig_type=std_logic lab=vres}
C {lab_pin.sym} 460 580 0 0 {name=p10 sig_type=std_logic lab=vref}
C {symbols/nfet_03v3.sym} 200 560 0 0 {name=M16
L=0.5u
W=0.5u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {symbols/nfet_03v3.sym} 200 730 0 0 {name=M19
L=1u
W=0.5u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {symbols/nfet_03v3.sym} 200 480 0 0 {name=M17
L=0.28u
W=0.36u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {lab_pin.sym} 460 470 0 1 {name=p16 sig_type=std_logic lab=vdd}
C {lab_pin.sym} 460 690 0 1 {name=p17 sig_type=std_logic lab=vss}
C {symbols/nfet_03v3.sym} 440 630 0 0 {name=M20
L=0.28u
W=0.36u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {symbols/nfet_03v3.sym} 440 540 0 0 {name=M21
L=0.28u
W=0.36u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
